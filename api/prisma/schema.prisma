generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id         Int      @id @default(autoincrement())
    name       String
    email      String   @unique
    password   String
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    @@map("users")
}

model Client {
    id         Int      @id @default(autoincrement())
    name       String
    email      String   @unique
    cnpj       String   @unique
    phone      String
    cep        String
    street     String
    district   String
    city       String
    number     String
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    os Order_Service[]

    @@map("client")
}

model Employees {
    id         Int      @id @default(autoincrement())
    name       String
    cpf        String   @unique
    phone      String
    cargo      String
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    os Order_Service[]

    @@map("employees")
}

model Parts {
    id          Int      @id @default(autoincrement())
    description String
    category    String
    brand       String
    serial      String
    value       String
    created_at  DateTime @default(now())
    updated_at  DateTime @updatedAt

    os Order_Service[]

    @@map("parts")
}

model Services {
    id          Int      @id @default(autoincrement())
    description String
    value       String
    created_at  DateTime @default(now())
    updated_at  DateTime @updatedAt

    os Order_Service[]

    @@map("services")
}

model Order_Service {
    id     Int    @id @default(autoincrement())
    status String
    value  String

    created_at  DateTime   @default(now())
    updated_at  DateTime   @updatedAt
    Client      Client?    @relation(fields: [clientId], references: [id])
    clientId    Int?
    Employees   Employees? @relation(fields: [employeesId], references: [id])
    employeesId Int?
    Parts       Parts?     @relation(fields: [partsId], references: [id])
    partsId     Int?
    Services    Services?  @relation(fields: [servicesId], references: [id])
    servicesId  Int?

    @@map("order_service")
}
